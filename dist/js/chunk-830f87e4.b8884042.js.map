{"version":3,"sources":["webpack:///./src/views/main/main-views/goods-manage/GoodsManage.vue?55ca","webpack:///./src/api/goods.js","webpack:///./src/views/main/main-views/goods-manage/exportColumn.js","webpack:///src/views/main/main-views/goods-manage/GoodsManage.vue","webpack:///./src/views/main/main-views/goods-manage/GoodsManage.vue?6911","webpack:///./src/views/main/main-views/goods-manage/GoodsManage.vue","webpack:///./src/views/main/main-views/goods-manage/GoodsManage.vue?e494"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","nativeOn","$event","type","indexOf","_k","keyCode","key","handleSearch","ref","attrs","searchForm","staticStyle","model","value","callback","$$v","$set","expression","_e","on","_v","handleReset","dropDown","_s","dropDownContent","dropDownIcon","add","delAll","handleDropdown","slot","selectCount","clearSelectAll","loading","columns","data","changeSort","showSelect","pageNumber","total","pageSize","changePage","changePageSize","modalTitle","modalVisible","form","formValidate","submitLoading","handleSubmit","exportTitle","loadingExport","exportCustomData","exportModalVisible","filename","chooseColumns","_l","item","i","title","checked","disabled","importModalVisible","beforeUploadImport","uploadfile","name","importColumns","height","importTableData","downloadTemple","importLoading","length","importData","resetPass","staticRenderFns","getGoodsListData","params","getRequest","getAllGoodsData","addGoods","postRequest","deleteGoods","ids","deleteRequest","dealWithGoods","query","exportColumn","components","checkPassword","drop","selectList","sort","order","modalType","goodsId","img","price","content","status","count","exportColumns","exportType","tempColumns","tempData","exportData","dictSex","$store","state","dict","sex","methods","init","getGoodsList","forEach","e","array","push","handleSelectDepTree","departmentId","v","handleSelectDep","selectDateRange","startDate","endDate","console","log","res","success","$refs","resetFields","selectDate","dep","clearSelect","getRoleList","getAllRoleList","then","$Message","warning","checkPass","show","$Modal","confirm","onOk","id","substring","resetGoodsPass","c","autoWidth","excel","file","fileExt","readFile","$Notice","desc","reader","readAsArrayBuffer","onerror","onload","importGoodsData","message","cancelGoods","validate","valid","editGoods","handleUpload","avatar","edit","attr","roles","selectRolesId","enable","goodsname","enableGoods","disable","disableGoods","remove","table","selectAll","dealWith","mounted","Number","document","documentElement","clientHeight","component"],"mappings":"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","file":"js/chunk-830f87e4.b8884042.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('Row',[_c('Col',[_c('Card',[_c('Row',{nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}}},[_c('Form',{ref:\"searchForm\",staticClass:\"search-form\",attrs:{\"model\":_vm.searchForm,\"inline\":\"\",\"label-width\":70}},[_c('Form-item',{attrs:{\"label\":\"商品id\",\"prop\":\"goodsId\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品id\",\"clearable\":\"\"},model:{value:(_vm.searchForm.goodsId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"goodsId\", $$v)},expression:\"searchForm.goodsId\"}})],1),(_vm.drop)?_c('span',[_c('Form-item',{attrs:{\"label\":\"商品名\",\"prop\":\"title\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品名\",\"clearable\":\"\"},model:{value:(_vm.searchForm.title),callback:function ($$v) {_vm.$set(_vm.searchForm, \"title\", $$v)},expression:\"searchForm.title\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品类型\",\"prop\":\"type\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品类型\",\"clearable\":\"\"},model:{value:(_vm.searchForm.type),callback:function ($$v) {_vm.$set(_vm.searchForm, \"type\", $$v)},expression:\"searchForm.type\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品图片\",\"prop\":\"img\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品图片\",\"clearable\":\"\"},model:{value:(_vm.searchForm.img),callback:function ($$v) {_vm.$set(_vm.searchForm, \"img\", $$v)},expression:\"searchForm.img\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品单价\",\"prop\":\"price\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品单价\",\"clearable\":\"\"},model:{value:(_vm.searchForm.price),callback:function ($$v) {_vm.$set(_vm.searchForm, \"price\", $$v)},expression:\"searchForm.price\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品简介\",\"prop\":\"content\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品简介\",\"clearable\":\"\"},model:{value:(_vm.searchForm.content),callback:function ($$v) {_vm.$set(_vm.searchForm, \"content\", $$v)},expression:\"searchForm.content\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品状态\",\"prop\":\"status\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品状态\",\"clearable\":\"\"},model:{value:(_vm.searchForm.status),callback:function ($$v) {_vm.$set(_vm.searchForm, \"status\", $$v)},expression:\"searchForm.status\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品库存\",\"prop\":\"count\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品库存\",\"clearable\":\"\"},model:{value:(_vm.searchForm.count),callback:function ($$v) {_vm.$set(_vm.searchForm, \"count\", $$v)},expression:\"searchForm.count\"}})],1)],1):_vm._e(),_c('Form-item',{staticClass:\"br\",staticStyle:{\"margin-left\":\"-35px\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"ios-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('Button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")]),_c('a',{staticClass:\"drop-down\",on:{\"click\":_vm.dropDown}},[_vm._v(\" \"+_vm._s(_vm.dropDownContent)+\" \"),_c('Icon',{attrs:{\"type\":_vm.dropDownIcon}})],1)],1)],1)],1),_c('Row',{staticClass:\"operation\"},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.add}},[_vm._v(\"添加商品\")]),_c('Button',{attrs:{\"icon\":\"md-trash\"},on:{\"click\":_vm.delAll}},[_vm._v(\"批量删除\")]),_c('Dropdown',{on:{\"on-click\":_vm.handleDropdown}},[_c('Button',[_vm._v(\" 更多操作 \"),_c('Icon',{attrs:{\"type\":\"md-arrow-dropdown\"}})],1),_c('DropdownMenu',{attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"refresh\"}},[_vm._v(\"刷新\")]),_c('DropdownItem',{attrs:{\"name\":\"reset\"}},[_vm._v(\"重置商品密码\")]),_c('DropdownItem',{attrs:{\"name\":\"exportData\"}},[_vm._v(\"导出所选数据\")]),_c('DropdownItem',{attrs:{\"name\":\"exportAll\"}},[_vm._v(\"导出全部数据\")]),_c('DropdownItem',{attrs:{\"name\":\"importData\"}},[_vm._v(\"导入数据\")])],1)],1)],1),_c('Row',[_c('Alert',{attrs:{\"show-icon\":\"\"}},[_vm._v(\" 已选择 \"),_c('span',{staticClass:\"select-count\"},[_vm._v(_vm._s(_vm.selectCount))]),_vm._v(\" 项 \"),_c('a',{staticClass:\"select-clear\",on:{\"click\":_vm.clearSelectAll}},[_vm._v(\"清空\")])])],1),_c('Row',[_c('Table',{ref:\"table\",attrs:{\"loading\":_vm.loading,\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.data,\"sortable\":\"custom\"},on:{\"on-sort-change\":_vm.changeSort,\"on-selection-change\":_vm.showSelect}})],1),_c('Row',{staticClass:\"page\",attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('Page',{attrs:{\"current\":_vm.searchForm.pageNumber,\"total\":_vm.total,\"page-size\":_vm.searchForm.pageSize,\"page-size-opts\":[10,20,50],\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1)],1)],1),_c('Modal',{attrs:{\"title\":_vm.modalTitle,\"mask-closable\":false,\"width\":500},model:{value:(_vm.modalVisible),callback:function ($$v) {_vm.modalVisible=$$v},expression:\"modalVisible\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":100,\"rules\":_vm.formValidate}},[_c('Form-item',{attrs:{\"label\":\"商品id\",\"prop\":\"goodsId\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品id\",\"clearable\":\"\"},model:{value:(_vm.form.goodsId),callback:function ($$v) {_vm.$set(_vm.form, \"goodsId\", $$v)},expression:\"form.goodsId\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品名\",\"prop\":\"title\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品名\",\"clearable\":\"\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品类型\",\"prop\":\"type\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品类型\",\"clearable\":\"\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品图片\",\"prop\":\"img\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品图片\",\"clearable\":\"\"},model:{value:(_vm.form.img),callback:function ($$v) {_vm.$set(_vm.form, \"img\", $$v)},expression:\"form.img\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品单价\",\"prop\":\"price\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品单价\",\"clearable\":\"\"},model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品简介\",\"prop\":\"content\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品简介\",\"clearable\":\"\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品状态\",\"prop\":\"status\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品状态\",\"clearable\":\"\"},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_c('Form-item',{attrs:{\"label\":\"商品库存\",\"prop\":\"count\"}},[_c('Input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\",\"placeholder\":\"请输入商品库存\",\"clearable\":\"\"},model:{value:(_vm.form.count),callback:function ($$v) {_vm.$set(_vm.form, \"count\", $$v)},expression:\"form.count\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.modalVisible=false}}},[_vm._v(\"取消\")]),_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.submitLoading},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")])],1)],1),_c('Modal',{attrs:{\"title\":_vm.exportTitle,\"loading\":_vm.loadingExport},on:{\"on-ok\":_vm.exportCustomData},model:{value:(_vm.exportModalVisible),callback:function ($$v) {_vm.exportModalVisible=$$v},expression:\"exportModalVisible\"}},[_c('Form',{ref:\"exportForm\",attrs:{\"label-width\":85}},[_c('FormItem',{attrs:{\"label\":\"导出文件名\"}},[_c('Input',{model:{value:(_vm.filename),callback:function ($$v) {_vm.filename=$$v},expression:\"filename\"}})],1),_c('FormItem',{attrs:{\"label\":\"自定义导出列\"}},[_c('CheckboxGroup',{model:{value:(_vm.chooseColumns),callback:function ($$v) {_vm.chooseColumns=$$v},expression:\"chooseColumns\"}},_vm._l((_vm.exportColumns),function(item,i){return _c('Checkbox',{key:i,attrs:{\"label\":item.title,\"value\":item.checked,\"disabled\":item.disabled}})}),1)],1)],1)],1),_c('Drawer',{attrs:{\"title\":\"导入数据\",\"closable\":\"\",\"width\":\"1000\"},model:{value:(_vm.importModalVisible),callback:function ($$v) {_vm.importModalVisible=$$v},expression:\"importModalVisible\"}},[_c('Upload',{attrs:{\"action\":\"\",\"before-upload\":_vm.beforeUploadImport,\"accept\":\".xls, .xlsx\"}},[_c('Button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"上传Excel文件\")]),(_vm.uploadfile.name!='')?_c('span',[_vm._v(\"当前选择文件：\"+_vm._s(_vm.uploadfile.name))]):_vm._e()],1),_c('Alert',{attrs:{\"type\":\"warning\",\"show-icon\":\"\"}},[_vm._v(\"导入前请下载查看导入模版数据文件，确保数据格式正确，不得修改列英文名称。必需数据字段：商品名(唯一)、密码(明文)\")]),_c('Table',{ref:\"importTable\",attrs:{\"columns\":_vm.importColumns,\"border\":\"\",\"height\":_vm.height,\"data\":_vm.importTableData}}),_c('div',{staticClass:\"drawer-footer\"},[_c('Button',{staticStyle:{\"position\":\"absolute\",\"left\":\"15px\"},attrs:{\"type\":\"info\"},on:{\"click\":_vm.downloadTemple}},[_vm._v(\"下载导入模板\")]),_c('Button',{on:{\"click\":function($event){_vm.importModalVisible=false}}},[_vm._v(\"关闭\")]),_c('Button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"loading\":_vm.importLoading,\"disabled\":_vm.importTableData.length<=0,\"type\":\"primary\"},on:{\"click\":_vm.importData}},[_vm._v(\" 确认导入 \"),(_vm.importTableData.length>0)?_c('span',[_vm._v(_vm._s(_vm.importTableData.length)+\" 条数据\")]):_vm._e()])],1)],1),_c('check-password',{ref:\"checkPass\",on:{\"on-success\":_vm.resetPass}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 统一请求路径前缀在libs/axios.js中修改\r\nimport { getRequest, postRequest, putRequest, deleteRequest, importRequest, uploadFileRequest } from '@/libs/axios';\r\n\r\n\r\n/*\r\n** 商品相关api\r\n*/\r\n\r\n// 获取商品信息 多条件\r\nexport const getGoodsListData = (params) => {\r\n  return getRequest('/goods/getByCondition', params)\r\n}\r\n// 获取全部商品信息\r\nexport const getAllGoodsData = (params) => {\r\n  return getRequest('/goods/getAll', params)\r\n}\r\n// 添加商品信息\r\nexport const addGoods = (params) => {\r\n  return postRequest('/goods/add', params)\r\n}\r\n// 删除商品信息\r\nexport const deleteGoods = (ids, params) => {\r\n  return deleteRequest(`/goods/delByIds/${ids}`, params)\r\n}\r\n// 处理商品信息\r\nexport const dealWithGoods = (params,query) => {\r\n  return postRequest('/goods/dealWith', params,query)\r\n}","export const exportColumn = [\n  {\n    title: \"商品id\",\n    key: \"goodsId\"\n  },\n  {\n    title: \"商品名\",\n    key: \"title\"\n  },\n  {\n    title: \"商品类型\",\n    key: \"type\"\n  },\n  {\n    title: \"商品图片\",\n    key: \"img\"\n  },\n  {\n    title: \"商品单价\",\n    key: \"price\"\n  },\n  {\n    title: \"商品简介\",\n    key: \"content\"\n  },\n  {\n    title: \"商品状态\",\n    key: \"status\"\n  },\n  {\n    title: \"商品库存\",\n    key: \"count\"\n  },\n]","<style lang=\"less\">\r\n@import \"./GoodsManage.less\";\r\n</style>\r\n<template>\r\n  <div class=\"search\">\r\n    <Row>\r\n      <Col>\r\n        <Card>\r\n          <!-- 多条件搜索栏 -->\r\n          <Row @keydown.enter.native=\"handleSearch\">\r\n            <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\" class=\"search-form\">\r\n              <!-- 根据业务需求修改以下代码 -->\r\n              <Form-item label=\"商品id\" prop=\"goodsId\">\r\n                <Input\r\n                  type=\"text\"\r\n                  v-model=\"searchForm.goodsId\"\r\n                  placeholder=\"请输入商品id\"\r\n                  clearable\r\n                  style=\"width: 200px\"\r\n                />\r\n              </Form-item>\r\n              <span v-if=\"drop\">\r\n                <Form-item label=\"商品名\" prop=\"title\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.title\"\r\n                    placeholder=\"请输入商品名\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n                <Form-item label=\"商品类型\" prop=\"type\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.type\"\r\n                    placeholder=\"请输入商品类型\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n                <Form-item label=\"商品图片\" prop=\"img\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.img\"\r\n                    placeholder=\"请输入商品图片\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n                <Form-item label=\"商品单价\" prop=\"price\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.price\"\r\n                    placeholder=\"请输入商品单价\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n                <Form-item label=\"商品简介\" prop=\"content\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.content\"\r\n                    placeholder=\"请输入商品简介\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n                <Form-item label=\"商品状态\" prop=\"status\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.status\"\r\n                    placeholder=\"请输入商品状态\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n                <Form-item label=\"商品库存\" prop=\"count\">\r\n                  <Input\r\n                    type=\"text\"\r\n                    v-model=\"searchForm.count\"\r\n                    placeholder=\"请输入商品库存\"\r\n                    clearable\r\n                    style=\"width: 200px\"\r\n                  />\r\n                </Form-item>\r\n              </span>\r\n              <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n                <Button @click=\"handleReset\">重置</Button>\r\n                <a class=\"drop-down\" @click=\"dropDown\">\r\n                  {{dropDownContent}}\r\n                  <Icon :type=\"dropDownIcon\"></Icon>\r\n                </a>\r\n              </Form-item>\r\n            </Form>\r\n          </Row>\r\n          <!-- 功能操作栏 -->\r\n          <Row class=\"operation\">\r\n            <Button @click=\"add\" type=\"primary\" icon=\"md-add\">添加商品</Button>\r\n            <Button @click=\"delAll\" icon=\"md-trash\">批量删除</Button>\r\n            <Dropdown @on-click=\"handleDropdown\">\r\n              <Button>\r\n                更多操作\r\n                <Icon type=\"md-arrow-dropdown\" />\r\n              </Button>\r\n              <DropdownMenu slot=\"list\">\r\n                <DropdownItem name=\"refresh\">刷新</DropdownItem>\r\n                <DropdownItem name=\"reset\">重置商品密码</DropdownItem>\r\n                <DropdownItem name=\"exportData\">导出所选数据</DropdownItem>\r\n                <DropdownItem name=\"exportAll\">导出全部数据</DropdownItem>\r\n                <DropdownItem name=\"importData\">导入数据</DropdownItem>\r\n              </DropdownMenu>\r\n            </Dropdown>\r\n          </Row>\r\n          <!-- 选择提示栏 -->\r\n          <Row>\r\n            <Alert show-icon>\r\n              已选择\r\n              <span class=\"select-count\">{{selectCount}}</span> 项\r\n              <a class=\"select-clear\" @click=\"clearSelectAll\">清空</a>\r\n            </Alert>\r\n          </Row>\r\n          <!-- 主表格 -->\r\n          <Row>\r\n            <Table\r\n              :loading=\"loading\"\r\n              border\r\n              :columns=\"columns\"\r\n              :data=\"data\"\r\n              sortable=\"custom\"\r\n              @on-sort-change=\"changeSort\"\r\n              @on-selection-change=\"showSelect\"\r\n              ref=\"table\"\r\n            ></Table>\r\n          </Row>\r\n          <!-- 分页栏 -->\r\n          <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page\r\n              :current=\"searchForm.pageNumber\"\r\n              :total=\"total\"\r\n              :page-size=\"searchForm.pageSize\"\r\n              @on-change=\"changePage\"\r\n              @on-page-size-change=\"changePageSize\"\r\n              :page-size-opts=\"[10,20,50]\"\r\n              size=\"small\"\r\n              show-total\r\n              show-elevator\r\n              show-sizer\r\n            ></Page>\r\n          </Row>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n    <!-- 新增/编辑 模态框 -->\r\n    <Modal :title=\"modalTitle\" v-model=\"modalVisible\" :mask-closable=\"false\" :width=\"500\">\r\n      <Form ref=\"form\" :model=\"form\" :label-width=\"100\" :rules=\"formValidate\">\r\n        <!-- 根据业务需求修改以下代码 -->\r\n        <Form-item label=\"商品id\" prop=\"goodsId\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.goodsId\"\r\n            placeholder=\"请输入商品id\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品名\" prop=\"title\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.title\"\r\n            placeholder=\"请输入商品名\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品类型\" prop=\"type\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.type\"\r\n            placeholder=\"请输入商品类型\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品图片\" prop=\"img\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.img\"\r\n            placeholder=\"请输入商品图片\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品单价\" prop=\"price\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.price\"\r\n            placeholder=\"请输入商品单价\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品简介\" prop=\"content\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.content\"\r\n            placeholder=\"请输入商品简介\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品状态\" prop=\"status\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.status\"\r\n            placeholder=\"请输入商品状态\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n        <Form-item label=\"商品库存\" prop=\"count\">\r\n          <Input\r\n            type=\"text\"\r\n            v-model=\"form.count\"\r\n            placeholder=\"请输入商品库存\"\r\n            clearable\r\n            style=\"width: 100%\"\r\n          />\r\n        </Form-item>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"text\" @click=\"modalVisible=false\">取消</Button>\r\n        <Button type=\"primary\" :loading=\"submitLoading\" @click=\"handleSubmit\">提交</Button>\r\n      </div>\r\n    </Modal>\r\n    <!-- 自定义导出数据 模态框-->\r\n    <Modal\r\n      v-model=\"exportModalVisible\"\r\n      :title=\"exportTitle\"\r\n      :loading=\"loadingExport\"\r\n      @on-ok=\"exportCustomData\"\r\n    >\r\n      <Form ref=\"exportForm\" :label-width=\"85\">\r\n        <FormItem label=\"导出文件名\">\r\n          <Input v-model=\"filename\" />\r\n        </FormItem>\r\n        <FormItem label=\"自定义导出列\">\r\n          <CheckboxGroup v-model=\"chooseColumns\">\r\n            <Checkbox\r\n              v-for=\"(item, i) in exportColumns\"\r\n              :label=\"item.title\"\r\n              :key=\"i\"\r\n              :value=\"item.checked\"\r\n              :disabled=\"item.disabled\"\r\n            ></Checkbox>\r\n          </CheckboxGroup>\r\n        </FormItem>\r\n      </Form>\r\n    </Modal>\r\n    <!-- 导入数据 模态框-->\r\n    <Drawer title=\"导入数据\" closable v-model=\"importModalVisible\" width=\"1000\">\r\n      <Upload action :before-upload=\"beforeUploadImport\" accept=\".xls, .xlsx\">\r\n        <Button icon=\"ios-cloud-upload-outline\" style=\"margin-right:10px\">上传Excel文件</Button>\r\n        <span v-if=\"uploadfile.name!=''\">当前选择文件：{{ uploadfile.name }}</span>\r\n      </Upload>\r\n      <Alert type=\"warning\" show-icon>导入前请下载查看导入模版数据文件，确保数据格式正确，不得修改列英文名称。必需数据字段：商品名(唯一)、密码(明文)</Alert>\r\n      <Table\r\n        :columns=\"importColumns\"\r\n        border\r\n        :height=\"height\"\r\n        :data=\"importTableData\"\r\n        ref=\"importTable\"\r\n      ></Table>\r\n      <div class=\"drawer-footer\">\r\n        <Button @click=\"downloadTemple\" type=\"info\" style=\"position:absolute;left:15px;\">下载导入模板</Button>\r\n        <Button @click=\"importModalVisible=false\">关闭</Button>\r\n        <Button\r\n          :loading=\"importLoading\"\r\n          :disabled=\"importTableData.length<=0\"\r\n          @click=\"importData\"\r\n          style=\"margin-left:5px\"\r\n          type=\"primary\"\r\n        >\r\n          确认导入\r\n          <span v-if=\"importTableData.length>0\">{{importTableData.length}} 条数据</span>\r\n        </Button>\r\n      </div>\r\n    </Drawer>\r\n    <!-- 验证密码 模态框:用于进行一些敏感操作前的身份验证如重置某个商品的密码之前需要验证管理员身份 -->\r\n    <check-password ref=\"checkPass\" @on-success=\"resetPass\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//导入用于和后台交互的api\r\n//根据业务需求修改以下代码\r\nimport {\r\n  getGoodsListData,\r\n  getAllGoodsData,\r\n  addGoods,\r\n  deleteGoods,\r\n  dealWithGoods\r\n} from \"@/api/goods.js\";\r\n\r\n// 拓展表格,根据情况使用\r\n// import expandRow from \"./expand.vue\";\r\n// 验证工具\r\nimport { validateMobile, validatePassword } from \"@/libs/validate\";\r\n// 通过密码验证身份组件\r\nimport checkPassword from \"@/components/check-password\";\r\n// 模版导入文件表数据\r\nimport { goodsColumns, goodsData } from \"@/libs/importTemplate\";\r\n// 指定导出列数据\r\nimport { exportColumn } from \"./exportColumn\";\r\n// excel工具\r\nimport excel from \"@/libs/excel\";\r\nexport default {\r\n  name: \"GoodsManage\",\r\n  components: {\r\n    // expandRow,\r\n    checkPassword\r\n  },\r\n  data() {\r\n    return {\r\n      // 导入excel时预览表格的高度\r\n      height: 510,\r\n      // 主表格的加载状态\r\n      loading: true,\r\n      // 导入excel时按钮的加载状态\r\n      importLoading: false,\r\n      // 导出excel时模态框的加载状态(疑似无用)\r\n      loadingExport: true,\r\n      // 导出excel模态框的可视状态\r\n      exportModalVisible: false,\r\n      // 导入excel模态框的可视状态\r\n      importModalVisible: false,\r\n      // 多条件搜索栏的更多部分的可视状态\r\n      drop: false,\r\n      // 多条件搜索栏的更多部分的按钮文字\r\n      dropDownContent: \"展开\",\r\n      // 多条件搜索栏的更多部分的按钮图标\r\n      dropDownIcon: \"ios-arrow-down\",\r\n      // 多选提示栏的选中条目数\r\n      selectCount: 0,\r\n      // 多选选中条目列表\r\n      selectList: [],\r\n      // 多条件搜索栏表单数据\r\n      searchForm: {\r\n        // 搜索框初始化对象\r\n        pageNumber: 1, // 当前页数\r\n        pageSize: 10, // 页面大小\r\n        sort: \"createTime\", // 默认排序字段\r\n        order: \"desc\", // 默认排序方式\r\n        type: \"0\"\r\n      },\r\n      // 添加或编辑模态框\r\n      modalType: 0, // 添加或编辑模态框标识\r\n      modalVisible: false, // 添加或编辑模态框可视状态\r\n      modalTitle: \"\", // 添加或编辑模态框标题\r\n      form: {\r\n        // 添加或编辑模态框表单对象初始化数据\r\n        // 根据业务需求修改以下代码\r\n        goodsId: \"\",\r\n        title: \"\",\r\n        type: \"\",\r\n        img: \"\",\r\n        price: \"\",\r\n        content: \"\",\r\n        status: \"\",\r\n        count: \"\"\r\n      },\r\n      formValidate: {}, // 表单验证规则\r\n      submitLoading: false, // 添加或编辑提交状态\r\n      // 主表格的表头\r\n      // 根据业务需求修改以下代码\r\n      columns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"商品id\",\r\n          key: \"goodsId\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品名\",\r\n          key: \"title\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品类型\",\r\n          key: \"type\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品图片\",\r\n          key: \"img\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品单价\",\r\n          key: \"price\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品简介\",\r\n          key: \"content\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品状态\",\r\n          key: \"status\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"商品库存\",\r\n          key: \"count\",\r\n          minWidth: 120,\r\n          sortable: false\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 200,\r\n          align: \"center\",\r\n          fixed: \"right\",\r\n          render: (h, params) => {\r\n            let enableOrDisable = \"\";\r\n            if (params.row.status == \"未下架\") {\r\n              enableOrDisable = h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    size: \"small\"\r\n                  },\r\n                  style: {\r\n                    marginRight: \"5px\"\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.dealWith(params.row);\r\n                    }\r\n                  }\r\n                },\r\n                \"未下架\"\r\n              );\r\n            } else {\r\n              enableOrDisable = h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"success\",\r\n                    size: \"small\"\r\n                  },\r\n                  style: {\r\n                    marginRight: \"5px\"\r\n                  }\r\n                },\r\n                \"已下架\"\r\n              );\r\n            }\r\n            return h(\"div\", [\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"primary\",\r\n                    size: \"small\"\r\n                  },\r\n                  style: {\r\n                    marginRight: \"5px\"\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.edit(params.row);\r\n                    }\r\n                  }\r\n                },\r\n                \"编辑\"\r\n              ),\r\n              enableOrDisable,\r\n              h(\r\n                \"Button\",\r\n                {\r\n                  props: {\r\n                    type: \"error\",\r\n                    size: \"small\"\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.remove(params.row);\r\n                    }\r\n                  }\r\n                },\r\n                \"删除\"\r\n              )\r\n            ]);\r\n          }\r\n        }\r\n      ],\r\n      // 导出列\r\n      exportColumns: exportColumn,\r\n      // 选中的要导出的列\r\n      chooseColumns: [],\r\n      // 导出excel的文件名\r\n      filename: \"商品\",\r\n      exportTitle: \"确认导出\",\r\n      exportType: \"\",\r\n      importTableData: [],\r\n      importColumns: [],\r\n      uploadfile: {\r\n        name: \"\"\r\n      },\r\n      tempColumns: goodsColumns,\r\n      tempData: goodsData,\r\n      data: [],\r\n      exportData: [],\r\n      total: 0,\r\n      dictSex: this.$store.state.dict.sex\r\n    };\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.getGoodsList();\r\n      // 初始化导出列数据\r\n      let array = [];\r\n      this.exportColumns.forEach(e => {\r\n        // 指定列限制权限\r\n        if (\r\n          !this.getStore(\"roles\").includes(\"ROLE_ADMIN\") &&\r\n          e.key == \"mobile\"\r\n        ) {\r\n          e.title = \"[无权导出] \" + e.title;\r\n          e.disabled = true;\r\n        } else {\r\n          e.disabled = false;\r\n        }\r\n        array.push(e.title);\r\n      });\r\n      this.chooseColumns = array;\r\n    },\r\n    handleSelectDepTree(v) {\r\n      this.form.departmentId = v[0];\r\n    },\r\n    handleSelectDep(v) {\r\n      this.searchForm.departmentId = v;\r\n    },\r\n    changePage(v) {\r\n      this.searchForm.pageNumber = v;\r\n      this.getGoodsList();\r\n      this.clearSelectAll();\r\n    },\r\n    changePageSize(v) {\r\n      this.searchForm.pageSize = v;\r\n      this.getGoodsList();\r\n    },\r\n    selectDateRange(v) {\r\n      if (v) {\r\n        this.searchForm.startDate = v[0];\r\n        this.searchForm.endDate = v[1];\r\n      }\r\n    },\r\n    getGoodsList() {\r\n      // 多条件搜索商品列表\r\n      this.loading = true;\r\n      // 避免后台默认值\r\n      if (!this.searchForm.type) {\r\n        this.searchForm.type = \"\";\r\n      }\r\n      if (!this.searchForm.status) {\r\n        this.searchForm.status = \"\";\r\n      }\r\n      getGoodsListData(this.searchForm).then(res => {\r\n        console.log(res);\r\n        this.loading = false;\r\n        if (res.success) {\r\n          this.data = res.result.content;\r\n          this.total = res.result.totalElements;\r\n        }\r\n      });\r\n    },\r\n    handleSearch() {\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.getGoodsList();\r\n    },\r\n    handleReset() {\r\n      this.$refs.searchForm.resetFields();\r\n      this.searchForm.pageNumber = 1;\r\n      this.searchForm.pageSize = 10;\r\n      this.selectDate = null;\r\n      this.searchForm.startDate = \"\";\r\n      this.searchForm.endDate = \"\";\r\n      this.$refs.dep.clearSelect();\r\n      this.searchForm.departmentId = \"\";\r\n      // 重新加载数据\r\n      this.getGoodsList();\r\n    },\r\n    changeSort(e) {\r\n      this.searchForm.sort = e.key;\r\n      this.searchForm.order = e.order;\r\n      if (e.order == \"normal\") {\r\n        this.searchForm.order = \"\";\r\n      }\r\n      this.getGoodsList();\r\n    },\r\n    getRoleList() {\r\n      getAllRoleList().then(res => {\r\n        if (res.success) {\r\n          this.roleList = res.result;\r\n        }\r\n      });\r\n    },\r\n    handleDropdown(name) {\r\n      if (name == \"refresh\") {\r\n        this.getGoodsList();\r\n      } else if (name == \"reset\") {\r\n        if (this.selectCount <= 0) {\r\n          this.$Message.warning(\"您还未选择要重置密码的商品\");\r\n          return;\r\n        }\r\n        this.$refs.checkPass.show();\r\n      } else if (name == \"exportData\") {\r\n        if (this.selectCount <= 0) {\r\n          this.$Message.warning(\"您还未选择要导出的数据\");\r\n          return;\r\n        }\r\n        this.exportType = \"part\";\r\n        this.exportModalVisible = true;\r\n        this.exportTitle = \"确认导出 \" + this.selectCount + \" 条数据 \";\r\n      } else if (name == \"exportAll\") {\r\n        this.exportType = \"all\";\r\n        this.exportModalVisible = true;\r\n        this.exportTitle = \"确认导出全部 \" + this.total + \" 条数据 \";\r\n        getAllGoodsData().then(res => {\r\n          if (res.success) {\r\n            this.exportData = res.result;\r\n          }\r\n        });\r\n      } else if (name == \"importData\") {\r\n        this.importModalVisible = true;\r\n      }\r\n    },\r\n    resetPass() {\r\n      this.$Modal.confirm({\r\n        title: \"确认重置\",\r\n        content:\r\n          \"您确认要重置所选的 \" +\r\n          this.selectCount +\r\n          \" 条商品数据密码为【123456】?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          resetGoodsPass({ ids: ids }).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.clearSelectAll();\r\n              this.getGoodsList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    exportCustomData() {\r\n      if (this.filename == \"\") {\r\n        this.filename = \"商品 \";\r\n      }\r\n      // 判断勾选导出列\r\n      let array = [];\r\n      this.exportColumns.forEach(e => {\r\n        this.chooseColumns.forEach(c => {\r\n          if (e.title == c && !e.disabled) {\r\n            array.push(e);\r\n          }\r\n        });\r\n      });\r\n      this.exportColumns = array;\r\n      this.exportModalVisible = false;\r\n      let title = [];\r\n      let key = [];\r\n      this.exportColumns.forEach(e => {\r\n        title.push(e.title);\r\n        key.push(e.key);\r\n      });\r\n      const params = {\r\n        title: title,\r\n        key: key,\r\n        data: this.exportData,\r\n        autoWidth: true,\r\n        filename: this.filename\r\n      };\r\n      excel.export_array_to_excel(params);\r\n    },\r\n    beforeUploadImport(file) {\r\n      this.uploadfile = file;\r\n      const fileExt = file.name\r\n        .split(\".\")\r\n        .pop()\r\n        .toLocaleLowerCase();\r\n      if (fileExt == \"xlsx\" || fileExt == \"xls\") {\r\n        this.readFile(file);\r\n        this.file = file;\r\n      } else {\r\n        this.$Notice.warning({\r\n          title: \"文件类型错误\",\r\n          desc:\r\n            \"所选文件‘ \" +\r\n            file.name +\r\n            \" ’不是EXCEL文件，请选择后缀为.xlsx或者.xls的EXCEL文件。\"\r\n        });\r\n      }\r\n      return false;\r\n    },\r\n    // 读取文件\r\n    readFile(file) {\r\n      const reader = new FileReader();\r\n      reader.readAsArrayBuffer(file);\r\n      reader.onerror = e => {\r\n        this.$Message.error(\"文件读取出错\");\r\n      };\r\n      reader.onload = e => {\r\n        this.$Message.success(\"读取数据成功\");\r\n        const data = e.target.result;\r\n        const { header, results } = excel.read(data, \"array\");\r\n        const tableTitle = header.map(item => {\r\n          return { title: item, key: item };\r\n        });\r\n        this.importTableData = results;\r\n        this.importColumns = tableTitle;\r\n      };\r\n    },\r\n    downloadTemple() {\r\n      let title = [];\r\n      let key = [];\r\n      goodsColumns.forEach(e => {\r\n        title.push(e.title);\r\n        key.push(e.key);\r\n      });\r\n      const params = {\r\n        title: title,\r\n        key: key,\r\n        data: goodsData,\r\n        autoWidth: true,\r\n        filename: \"导入商品模板\"\r\n      };\r\n      excel.export_array_to_excel(params);\r\n    },\r\n    importData() {\r\n      this.importLoading = true;\r\n      importGoodsData(this.importTableData).then(res => {\r\n        this.importLoading = false;\r\n        if (res.success) {\r\n          this.importModalVisible = false;\r\n          this.getGoodsList();\r\n          this.$Modal.info({\r\n            title: \"导入结果\",\r\n            content: res.message\r\n          });\r\n        }\r\n      });\r\n    },\r\n    cancelGoods() {\r\n      this.modalVisible = false;\r\n    },\r\n    handleSubmit() {\r\n      this.$refs.form.validate(valid => {\r\n        console.log(valid);\r\n        if (valid) {\r\n          if (this.modalType == 0) {\r\n            // 添加商品  避免编辑后传入id,goodsid,mobile\r\n            delete this.form.id;\r\n            delete this.form.status;\r\n            delete this.form.goodsId;\r\n            delete this.form.mobile;\r\n            this.submitLoading = true;\r\n            addGoods(this.form).then(res => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.getGoodsList();\r\n                this.modalVisible = false;\r\n              }\r\n            });\r\n          } else {\r\n            // 编辑\r\n            this.submitLoading = true;\r\n            editGoods(this.form).then(res => {\r\n              this.submitLoading = false;\r\n              if (res.success) {\r\n                this.$Message.success(\"操作成功\");\r\n                this.getGoodsList();\r\n                this.modalVisible = false;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    handleUpload(v) {\r\n      this.form.avatar = v;\r\n    },\r\n    add() {\r\n      this.modalType = 0;\r\n      this.modalTitle = \"添加商品 \";\r\n      this.$refs.form.resetFields();\r\n      this.modalVisible = true;\r\n    },\r\n    edit(v) {\r\n      this.modalType = 1;\r\n      this.modalTitle = \"编辑商品 \";\r\n      this.$refs.form.resetFields();\r\n      // 转换null为\"\"\r\n      for (let attr in v) {\r\n        if (v[attr] == null) {\r\n          v[attr] = \"\";\r\n        }\r\n      }\r\n      let str = JSON.stringify(v);\r\n      let data = JSON.parse(str);\r\n      this.form = data;\r\n      // this.$refs.depTree.setData([data.departmentId], data.departmentTitle);\r\n      let selectRolesId = [];\r\n      this.form.roles.forEach(function(e) {\r\n        selectRolesId.push(e.id);\r\n      });\r\n      this.form.roles = selectRolesId;\r\n      this.modalVisible = true;\r\n    },\r\n    enable(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认启用\",\r\n        content: \"您确认要启用商品 \" + v.goodsname + \" ?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          enableGoods(v.id).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getGoodsList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    disable(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认禁用\",\r\n        content: \"您确认要禁用商品 \" + v.goodsname + \" ?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          disableGoods(v.id).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"操作成功\");\r\n              this.getGoodsList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    remove(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除商品 : \" + v.content + \" ?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          deleteGoods(v.id).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.getGoodsList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    dropDown() {\r\n      if (this.drop) {\r\n        this.dropDownContent = \"展开\";\r\n        this.dropDownIcon = \"ios-arrow-down\";\r\n      } else {\r\n        this.dropDownContent = \"收起\";\r\n        this.dropDownIcon = \"ios-arrow-up\";\r\n      }\r\n      this.drop = !this.drop;\r\n    },\r\n    showSelect(e) {\r\n      this.exportData = e;\r\n      this.selectList = e;\r\n      this.selectCount = e.length;\r\n    },\r\n    clearSelectAll() {\r\n      this.$refs.table.selectAll(false);\r\n    },\r\n    delAll() {\r\n      if (this.selectCount <= 0) {\r\n        this.$Message.warning(\"您还未选择要删除的数据\");\r\n        return;\r\n      }\r\n      this.$Modal.confirm({\r\n        title: \"确认删除\",\r\n        content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          let ids = \"\";\r\n          this.selectList.forEach(function(e) {\r\n            ids += e.id + \",\";\r\n          });\r\n          ids = ids.substring(0, ids.length - 1);\r\n          deleteGoods(ids).then(res => {\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功\");\r\n              this.clearSelectAll();\r\n              this.getGoodsList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    // 处理商品\r\n    dealWith(v) {\r\n      this.$Modal.confirm({\r\n        title: \"确认处理\",\r\n        content: \"您确认要处理商品 : \" + v.content + \" ?\",\r\n        loading: true,\r\n        onOk: () => {\r\n          dealWithGoods(v.id, { id: v.id }).then(res => {\r\n            console.log(v, v.id, res);\r\n            this.$Modal.remove();\r\n            if (res.success) {\r\n              this.$Message.success(\"处理成功\");\r\n              this.getGoodsList();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    // 计算高度\r\n    this.height = Number(document.documentElement.clientHeight - 230);\r\n    this.init();\r\n    // this.getRoleList();\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsManage.vue?vue&type=template&id=e7f77b9a&\"\nimport script from \"./GoodsManage.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsManage.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsManage.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsManage.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}